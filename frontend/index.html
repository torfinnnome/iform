<!DOCTYPE html>
<html lang="no" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="title">iform</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Source+Code+Pro&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1><a href="/">iform</a></h1>
            <div class="controls">
                <select id="lang-switcher">
                    <option value="en">English</option>
                    <option value="no" selected>Norsk</option>
                    <option value="es">Espa√±ol</option>
                </select>
                <button id="theme-switcher" aria-label="Toggle theme">
                    <svg class="sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    <svg class="moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-3.31 0-6-2.69-6-6 0-1.82.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/></svg>
                </button>
                <button id="logout-button" class="button-secondary hidden" data-i18n="logout">Logout</button>
                <a id="github-link" href="#" target="_blank" aria-label="View on GitHub">
                    <svg class="github-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.373 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.11.82-.26.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.085 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.108-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.652.242 2.873.118 3.176.77.84 1.235 1.91 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222 0 1.606-.015 2.898-.015 3.291 0 .32.22.694.825.576C20.562 21.795 24 17.3 24 12 24 5.373 18.627 0 12 0z"/></svg>
                </a>
            </div>
        </header>
        <main>
            <div id="auth-section">
                <h2 data-i18n="welcome_title">Welcome to iform</h2>
                <p data-i18n="description">Connect with Strava to analyze your training and get AI-powered insights.</p>
                <button id="strava-connect" class="button-primary">
                    <span data-i18n="connect_strava">Connect with Strava</span>
                </button>
            </div>

            <div id="data-section" class="hidden">
                <div id="activities-controls">
                    <button id="fetch-activities" class="button-secondary" data-i18n="fetch_activities">Fetch Activities</button>
                </div>
                <div id="special-considerations-section" class="hidden">
                    <h3 data-i18n="special_considerations_title">Special Considerations</h3>
                    <textarea id="special-considerations-input" rows="3" data-i18n-placeholder="special_considerations_placeholder"></textarea>
                    <button id="analyze-activities" class="button-primary" data-i18n="analyze_activities">Analyze Activities</button>
                </div>
                <div id="analysis-section" class="hidden">
                    <h3 data-i18n="analysis_title">Your AI-Powered Analysis</h3>
                    <div id="analysis-result"></div>
                    <div class="chart-container">
                        <canvas id="trend-chart"></canvas>
                    </div>
                </div>
                <div id="activities-list"></div>
            </div>
        </main>
    </div>
    <script src="script.js"></script>
</body>
</html>